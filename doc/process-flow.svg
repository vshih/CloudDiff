<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.42.3 (20191010.1750)
 -->
<!-- Pages: 1 -->
<svg width="601pt" height="377pt"
 viewBox="0.00 0.00 601.00 376.89" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 372.89)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-372.89 597,-372.89 597,4 -4,4"/>
<text text-anchor="middle" x="296.5" y="-353.69" font-family="Arial" font-size="14.00">Diff Flow</text>
<g id="clust1" class="cluster">
<title>cluster_user</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="375,-178.3 375,-336.79 505,-336.79 505,-178.3 375,-178.3"/>
<text text-anchor="middle" x="440" y="-321.59" font-family="Arial" font-size="14.00">user</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_content</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="13,-92.1 13,-256.49 367,-256.49 367,-92.1 13,-92.1"/>
<text text-anchor="middle" x="190" y="-241.29" font-family="Arial" font-size="14.00">content script</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_oauth</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="375,-94.2 375,-170.3 585,-170.3 585,-94.2 375,-94.2"/>
<text text-anchor="middle" x="480" y="-155.1" font-family="Arial" font-size="14.00">OAuth receiver</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_bg</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="8,-8 8,-84.1 372,-84.1 372,-8 8,-8"/>
<text text-anchor="middle" x="190" y="-68.9" font-family="Arial" font-size="14.00">background page</text>
</g>
<!-- user_0 -->
<g id="node1" class="node">
<title>user_0</title>
<polygon fill="none" stroke="black" points="497.06,-304.79 382.94,-304.79 382.94,-264.39 497.06,-264.39 497.06,-304.79"/>
<text text-anchor="start" x="409.79" y="-289.49" font-family="Arial" font-size="14.00">clicks diff </text>
<text text-anchor="start" x="390.97" y="-273.39" font-family="Arial" font-size="14.00"> (no auth token)</text>
</g>
<!-- user_1 -->
<g id="node2" class="node">
<title>user_1</title>
<polygon fill="none" stroke="black" points="471.09,-222.3 390.91,-222.3 390.91,-186.3 471.09,-186.3 471.09,-222.3"/>
<text text-anchor="start" x="398.7" y="-201.15" font-family="Arial" font-size="14.00">authorizes</text>
</g>
<!-- user_0&#45;&gt;user_1 -->
<!-- content_0 -->
<g id="node3" class="node">
<title>content_0</title>
<polygon fill="none" stroke="black" points="358.95,-224.49 83.05,-224.49 83.05,-184.1 358.95,-184.1 358.95,-224.49"/>
<text text-anchor="start" x="91.02" y="-209.19" font-family="Arial" font-size="14.00">queries storage for auth token; not found. </text>
<text text-anchor="start" x="134.22" y="-193.1" font-family="Arial" font-size="14.00"> triggers Dropbox auth page</text>
</g>
<!-- user_0&#45;&gt;content_0 -->
<g id="edge1" class="edge">
<title>user_0&#45;&gt;content_0</title>
<path fill="none" stroke="blue" d="M386.43,-264.44C355.67,-253.44 316.87,-239.57 284.58,-228.03"/>
<polygon fill="blue" stroke="blue" points="285.37,-224.59 274.78,-224.52 283.02,-231.19 285.37,-224.59"/>
</g>
<!-- oauth_0 -->
<g id="node5" class="node">
<title>oauth_0</title>
<polygon fill="none" stroke="black" points="577.21,-138.2 382.79,-138.2 382.79,-102.2 577.21,-102.2 577.21,-138.2"/>
<text text-anchor="start" x="390.89" y="-117.05" font-family="Arial" font-size="14.00">sends token to content script</text>
</g>
<!-- user_1&#45;&gt;oauth_0 -->
<g id="edge3" class="edge">
<title>user_1&#45;&gt;oauth_0</title>
<path fill="none" stroke="blue" d="M441.15,-186.29C447.87,-175.02 456.82,-160.03 464.43,-147.28"/>
<polygon fill="blue" stroke="blue" points="467.57,-148.85 469.69,-138.47 461.56,-145.26 467.57,-148.85"/>
</g>
<!-- content_0&#45;&gt;user_1 -->
<g id="edge2" class="edge">
<title>content_0&#45;&gt;user_1</title>
<path fill="none" stroke="blue" d="M359.22,-204.3C366.32,-204.3 373.41,-204.3 380.51,-204.3"/>
<polygon fill="blue" stroke="blue" points="380.91,-207.8 390.91,-204.3 380.91,-200.8 380.91,-207.8"/>
</g>
<!-- content_1 -->
<g id="node4" class="node">
<title>content_1</title>
<polygon fill="none" stroke="black" points="358.65,-140.4 21.35,-140.4 21.35,-100 358.65,-100 358.65,-140.4"/>
<text text-anchor="start" x="45.66" y="-125.1" font-family="Arial" font-size="14.00">writes token to storage, retrieves file contents, </text>
<text text-anchor="start" x="29.42" y="-109" font-family="Arial" font-size="14.00"> displays diff&#45;view or sends info to background page</text>
</g>
<!-- content_0&#45;&gt;content_1 -->
<!-- bg_0 -->
<g id="node6" class="node">
<title>bg_0</title>
<polygon fill="none" stroke="black" points="364.34,-52 15.66,-52 15.66,-16 364.34,-16 364.34,-52"/>
<text text-anchor="start" x="23.58" y="-30.85" font-family="Arial" font-size="14.00">sends native message to helper, opening diff program</text>
</g>
<!-- content_1&#45;&gt;bg_0 -->
<g id="edge5" class="edge">
<title>content_1&#45;&gt;bg_0</title>
<path fill="none" stroke="blue" d="M190,-100.09C190,-88.91 190,-74.6 190,-62.25"/>
<polygon fill="blue" stroke="blue" points="193.5,-62.03 190,-52.03 186.5,-62.03 193.5,-62.03"/>
</g>
<!-- oauth_0&#45;&gt;content_1 -->
<g id="edge4" class="edge">
<title>oauth_0&#45;&gt;content_1</title>
<path fill="none" stroke="blue" d="M382.46,-120.2C378.02,-120.2 373.59,-120.2 369.15,-120.2"/>
<polygon fill="blue" stroke="blue" points="368.79,-116.7 358.79,-120.2 368.79,-123.7 368.79,-116.7"/>
</g>
</g>
</svg>
